{"version":3,"sources":["components/SelectFilter.jsx","App.js","index.js"],"names":["useStyles","makeStyles","theme","root","margin","spacing","slider","marginTop","width","color","green","GreenRadio","withStyles","checked","props","Radio","GreenButton","marginBottom","Button","cameraList","rover","name","fullName","SelectFilter","filter","setFilter","resetSearch","classes","handleChange","event","target","value","setSol","sol","Container","className","FormControl","component","FormLabel","RadioGroup","onChange","row","FormControlLabel","control","label","camera","map","item","earth","TextField","id","type","earth_date","textField","InputLabelProps","shrink","onClick","Slider","min","max","getAriaValueText","step","marks","valueLabelDisplay","onChangeCommitted","newValue","textAlign","imageList","maxWidth","height","transform","App","styles","useState","page","setPage","photos","setPhotos","fetching","setFetching","useEffect","apiUrl","process","axios","get","params","api_key","then","resp","data","length","catch","error","console","ImageList","gap","cols","rowHeight","ImageListItem","src","img_src","alt","Typography","variant","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fec6861f.chunk.js","sourcesContent":["import React from 'react'\nimport { Container, makeStyles, TextField, withStyles, Slider, Button } from '@material-ui/core'\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport { lightGreen as green } from '@material-ui/core/colors';\n\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n  slider: {\n    marginTop: 30,\n    width: 640,\n    color: green[300],\n  },\n}))\n\nconst GreenRadio = withStyles({\n  root: {\n    color: green[300],\n    '&$checked': {\n      color: green[500],\n    },\n  },\n  checked: {},\n})((props) => <Radio color=\"default\" {...props} />);\n\nexport const GreenButton = withStyles({\n  root: {\n    color: green[500],\n    marginBottom: 60,\n  }\n})((props) => <Button color=\"default\" {...props} />);\n\nconst cameraList = rover => {\n  switch (rover) {\n    case 'curiosity':\n      return [{ name: 'FHAZ', fullName: 'Front Hazard Avoidance Camera' }, { name: 'RHAZ', fullName: 'Rear Hazard Avoidance Camera' },\n      { name: 'NAVCAM', fullName: 'Navigation Camera' }, { name: 'MAST', fullName: 'Mast Camera' },\n      { name: 'CHEMCAM', fullName: 'Chemistry and Camera Complex' }, { name: 'MAHLI', fullName: 'Mars Hand Lens Imager' },\n      { name: 'MARDI', fullName: 'Mars Descent Imager' }];\n    case 'opportunity':\n      return [{ name: 'FHAZ', fullName: 'Front Hazard Avoidance Camera' }, { name: 'RHAZ', fullName: 'Rear Hazard Avoidance Camera' },\n      { name: 'NAVCAM', fullName: 'Navigation Camera' }, { name: 'PANCAM', fullName: 'Panoramic Camera' },\n      { name: 'MINITES', fullName: 'Miniature Thermal Emission Spectrometer (Mini-TES)' }];\n    case 'spirit':\n      return [{ name: 'FHAZ', fullName: 'Front Hazard Avoidance Camera' }, { name: 'RHAZ', fullName: 'Rear Hazard Avoidance Camera' },\n      { name: 'NAVCAM', fullName: 'Navigation Camera' }, { name: 'PANCAM', fullName: 'Panoramic Camera' },\n      { name: 'MINITES', fullName: 'Miniature Thermal Emission Spectrometer (Mini-TES)' }];\n    default:\n      return [];\n  }\n}\n\nexport default function SelectFilter({ filter, setFilter, resetSearch }) {\n\n  const classes = useStyles();\n  const marks = [\n    {\n      value: 0,\n      label: '0',\n    },\n    {\n      value: 250,\n      label: '250',\n    },\n    {\n      value: 500,\n      label: '500',\n    },\n    {\n      value: 750,\n      label: '750',\n    },\n    {\n      value: 1000,\n      label: '1000',\n    },\n  ];\n\n  const valuetext = value => `${value}`\n\n  const handleChange = event => {\n    const name = event.target.name;\n    setFilter({\n      ...filter, ...{\n        [name]: event.target.value,\n      }\n    });\n    resetSearch();\n  }\n\n  const setSol = value => {\n    setFilter({\n      ...filter, ...{\n        sol: value,\n      }\n    });\n    resetSearch();\n  }\n\n  return (\n    <>\n      <Container className={classes.root}>\n        <FormControl component=\"fieldset\">\n          <FormLabel component=\"legend\">Rover</FormLabel>\n          <RadioGroup aria-label=\"Rover\" name=\"rover\" value={filter.rover} onChange={handleChange} row>\n            <FormControlLabel value='curiosity' control={<GreenRadio />} label=\"Curiosity\" />\n            <FormControlLabel value='opportunity' control={<GreenRadio />} label=\"Opportunity\" />\n            <FormControlLabel value='spirit' control={<GreenRadio />} label=\"Spirit\" />\n          </RadioGroup>\n        </FormControl>\n        <FormControl component=\"fieldset\">\n          <FormLabel component=\"legend\">Camera</FormLabel>\n          <RadioGroup aria-label=\"Camera\" name='camera' value={filter.camera} onChange={handleChange} row>\n            {cameraList(filter.rover).map(item => <FormControlLabel key={item.name} value={item.name} control={<GreenRadio />} label={item.fullName} />)}\n          </RadioGroup>\n        </FormControl>\n        <FormControl component=\"fieldset\">\n          <FormLabel component=\"legend\">Day</FormLabel>\n          <RadioGroup aria-label=\"Date\" name=\"earth\" value={filter.earth} onChange={handleChange} row>\n            <FormControlLabel value=\"true\" control={<GreenRadio />} label=\"Earth date\" />\n            <FormControlLabel value=\"\" control={<GreenRadio />} label=\"Martian sol\" />\n          </RadioGroup>\n        </FormControl>\n        <FormControl component=\"fieldset\">\n          {filter.earth ?\n            <TextField\n              id=\"date\"\n              label=\"Earth date\"\n              name=\"earth_date\"\n              type=\"date\"\n              value={filter.earth_date}\n              onChange={handleChange}\n              className={classes.textField}\n              InputLabelProps={{\n                shrink: true,\n              }} /> :\n            <div>\n              <GreenButton onClick={() => setSol(--filter.sol)}>-</GreenButton>\n              <Slider className={classes.slider}\n                min={0}\n                max={1000}\n                value={filter.sol}\n                name=\"sol\"\n                getAriaValueText={valuetext}\n                step={1}\n                marks={marks}\n                valueLabelDisplay=\"on\"\n                onChangeCommitted={(event, newValue) => setSol(newValue)}\n              />\n              <GreenButton onClick={() => setSol(++filter.sol)}>+</GreenButton>\n            </div>\n          }\n        </FormControl>\n      </Container>\n    </>\n  )\n}\n","import { useState, useEffect } from 'react';\nimport axios from \"axios\"\nimport { Typography, Container, makeStyles, ImageList, ImageListItem } from '@material-ui/core'\nimport SelectFilter, { GreenButton } from './components/SelectFilter';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: theme.spacing(3, 0, 2),\n    textAlign: 'center',\n  },\n  imageList: {\n    maxWidth: 1200,\n    height: 'auto',\n    // Promote the list into its own layer in Chrome. This cost memory, but helps keep FPS high.\n    transform: 'translateZ(0)',\n  },\n}))\n\nfunction App() {\n  const styles = useStyles()\n  const ItemsPerPage = 25\n  const [filter, setFilter] = useState({\n    rover: 'spirit',\n    camera: 'NAVCAM',\n    earth: 'true',\n    earth_date: '2004-01-05',\n    sol: 1,\n  })\n  const [page, setPage] = useState(1)\n  const [photos, setPhotos] = useState([])\n  const [fetching, setFetching] = useState(false)\n\n  // https://api.nasa.gov/mars-photos/api/v1/manifests/Curiosity/?earth_date=2015-6-3&api_key=DEMO_KEY\n  useEffect(() => {\n    const apiUrl = process.env.REACT_APP_NASA_ENDPOINT + 'mars-photos/api/v1/rovers/' + filter.rover + '/photos'\n    setFetching(true)\n    axios.get(apiUrl, {\n      params: {\n        ...{\n          camera: filter.camera,\n          page: page,\n          api_key: process.env.REACT_APP_NASA_API_KEY\n        }, ...filter.earth ? ({ earth_date: filter.earth_date }) : ({ sol: filter.sol })\n      }\n    }\n    ).then((resp) => {\n      if (resp.data.photos.length) {\n        setPhotos(photos => [...photos, ...resp.data.photos]);\n        if (resp.data.photos.length < ItemsPerPage) {\n          setFetching(false)\n        }\n      } else {\n        setFetching(false)\n      }\n    })\n      .catch(function (error) {\n        console.error(error);\n      })\n  }, [filter, page]);\n\n  return (\n    <div className={styles.root}>\n      <Container>\n        <SelectFilter filter={filter} setFilter={setFilter} resetSearch={() => {\n          setPage(1);\n          setPhotos([]);\n        }} />\n        {photos.length ? (<ImageList gap={1} className={styles.imageList} cols={1} rowHeight='auto'>\n          {photos.map(item => <ImageListItem key={item.id} >\n            <img src={item.img_src} alt={item.id} />\n          </ImageListItem>)}\n        </ImageList>) :\n          <Typography variant=\"h5\" >\n            Photos not found\n          </Typography>\n        }\n      </Container>\n      {fetching && <GreenButton onClick={() => setPage(p => ++p)}>Load more...</GreenButton>}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}